{% extends "base.html" %}
{% block content %}
<h2>QR 출고 (로케이션 선택 + 제품 QR)</h2>

<div class="qrwrap">
  <div class="box">
    <h3>1) 로케이션 QR(선택)</h3>
    <div id="readerLoc" class="reader"></div>
    <div class="row">
      <button onclick="startLoc()">스캔 시작</button>
      <button onclick="stopAll()">중지</button>
    </div>
    <div class="row">
      <input id="location" placeholder="로케이션 수동입력(선택)" />
    </div>
  </div>

  <div class="box">
    <h3>2) 제품 QR</h3>
    <div id="readerItem" class="reader"></div>
    <div class="row">
      <button onclick="startItem()">스캔 시작</button>
      <button onclick="stopAll()">중지</button>
    </div>
    <div class="row">
      <input id="item_code" placeholder="품목코드" />
      <input id="item_name" placeholder="품명(선택)" />
    </div>
    <div class="row">
      <input id="lot" placeholder="LOT" />
      <input id="quantity" type="number" value="1" />
    </div>
    <div class="row">
      <input id="remark" placeholder="비고(선택)" />
      <button onclick="submitOutbound()">출고 처리</button>
    </div>
    <pre id="result"></pre>
  </div>
</div>

<p class="hint">
로케이션을 비우면, 같은 LOT 재고를 전체 로케이션에서 합산 차감합니다.
</p>
{% endblock %}

{% block scripts %}
<script src="https://unpkg.com/html5-qrcode"></script>
<script type="module" src="/static/js/qr_outbound.js"></script>
{% endblock %}

{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2>ì¬ê³  ì¡°íšŒ</h2>
  <div style="display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px;">
    <a class="btn" href="/print/ì¬ê³ .pdf" target="_blank">ğŸ–¨ï¸ í˜„ì¬ê³  ì¶œë ¥(PDF)</a>
    <a class="btn" href="/print/ì œí’ˆë¼ë²¨.pdf?template=LS-3108&limit=14" target="_blank">ğŸ·ï¸ ì œí’ˆë¼ë²¨(LS-3108)</a>
  </div>
  <div id="inv"></div>
</div>

<script>
async function loadInv(){
  const res = await fetch('/api/ì¬ê³ ');
  const data = await res.json();
  let html = `<p class="small">ì´ ${data.count}ê±´</p>`;
  html += `<table class="table"><thead><tr>
    <th>ì°½ê³ </th><th>ë¡œì¼€ì´ì…˜</th><th>í’ˆë²ˆ</th><th>í’ˆëª…</th><th>LOT</th><th>ê·œê²©</th><th>ìˆ˜ëŸ‰</th>
  </tr></thead><tbody>`;
  for(const it of data.items){
    html += `<tr><td>${it['ì°½ê³ ']}</td><td>${it['ë¡œì¼€ì´ì…˜']}</td><td>${it['í’ˆë²ˆ']}</td><td>${it['í’ˆëª…']}</td><td>${it['LOT']}</td><td>${it['ê·œê²©']}</td><td>${it['ìˆ˜ëŸ‰']}</td></tr>`;
  }
  html += `</tbody></table>`;
  document.getElementById('inv').innerHTML = html;
}
loadInv();
</script>
{% endblock %}

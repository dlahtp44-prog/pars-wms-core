<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>이동 위치 스캔</title>
    <link rel="stylesheet" href="/static/app.css">
    <style>
        .container { padding: 15px; font-family: sans-serif; }
        .info-box { background: #f0f4f8; border-radius: 8px; padding: 15px; margin-bottom: 20px; border: 1px solid #d1d9e0; }
        .info-item { display: flex; justify-content: space-between; margin-bottom: 8px; border-bottom: 1px solid #e1e8ef; padding-bottom: 4px; }
        .label { font-weight: bold; color: #4a5568; }
        .value { color: #2d3748; font-weight: bold; }
        .scan-section { margin-top: 20px; }
        .scan-label { display: block; margin-bottom: 10px; font-weight: bold; font-size: 1.1em; color: #007bff; }
        .input-qr { width: 100%; padding: 15px; font-size: 18px; border: 2px solid #007bff; border-radius: 8px; box-sizing: border-box; outline: none; }
        .input-qr:focus { background-color: #eef6ff; }
        .btn-submit { width: 100%; padding: 15px; background: #007bff; color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; margin-top: 15px; }
    </style>
</head>
<body>
    <div style="background:#333; color:white; padding:15px; text-align:center; font-weight:bold;">
        STEP 3: 도착지 스캔
    </div>
    <div class="container">
        <div class="info-box">
            <div class="info-item"><span class="label">출발지</span><span class="value">{{ from_location }}</span></div>
            <div class="info-item"><span class="label">품목</span><span class="value">{{ item_name }}</span></div>
            <div class="info-item"><span class="label">코드</span><span class="value">{{ item_code }}</span></div>
            <div class="info-item"><span class="label">수량</span><span class="value">{{ qty }}</span></div>
        </div>

        <form action="/m/qr/move/execute" method="post" id="moveForm">
            <input type="hidden" name="from_location" value="{{ from_location }}">
            <input type="hidden" name="item_code" value="{{ item_code }}">
            <input type="hidden" name="item_name" value="{{ item_name }}">
            <input type="hidden" name="lot" value="{{ lot }}">
            <input type="hidden" name="spec" value="{{ spec }}">
            <input type="hidden" name="qty" value="{{ qty }}">

            <div class="scan-section">
                <label class="scan-label" for="to_location">▼ 도착 로케이션 QR 스캔</label>
                <input type="text" name="to_location" id="to_location" class="input-qr" placeholder="위치 바코드를 찍으세요" required autofocus>
            </div>
            <button type="submit" class="btn-submit">이동 완료</button>
        </form>
    </div>
    <script>
        // 스캐너 포커스 유지
        document.addEventListener('click', () => document.getElementById('to_location').focus());
    </script>
</body>
</html>
